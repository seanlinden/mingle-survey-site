<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mingle — Survey</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Mingle survey — quick feedback form" />
</head>
<body>
  <main class="site-container">
    <header class="site-header">
      <h1>Mingle Survey</h1>
      <p class="lead">We'd love your feedback — this takes less than a minute.</p>
    </header>

    <section class="survey-card" aria-labelledby="survey-title">
      <h2 id="survey-title" class="sr-only">Mingle Feedback Form</h2>

      <form id="surveyForm" class="survey-form" action="#" method="post" novalidate>
        <label for="name">Name (optional)
          <input id="name" name="name" type="text" placeholder="Your name" />
        </label>

        <label for="email">Email (optional)
          <input id="email" name="email" type="email" placeholder="you@example.com" />
        </label>

        <label for="age">Age range
          <select id="age" name="age" required>
            <option value="">Select...</option>
            <option value="under18">Under 18</option>
            <option value="18-24">18–24</option>
            <option value="25-34">25–34</option>
            <option value="35-44">35–44</option>
            <option value="45plus">45+</option>
          </select>
        </label>

        <fieldset>
          <legend>How did you hear about Mingle?</legend>
          <label><input type="radio" name="source" value="friend" required /> Friend</label>
          <label><input type="radio" name="source" value="social" /> Social media</label>
          <label><input type="radio" name="source" value="search" /> Search engine</label>
          <label><input type="radio" name="source" value="other" /> Other</label>
        </fieldset>

        <fieldset>
          <legend>Topics you're interested in (choose all that apply)</legend>
          <label><input type="checkbox" name="topics" value="networking" /> Networking</label>
          <label><input type="checkbox" name="topics" value="events" /> Local events</label>
          <label><input type="checkbox" name="topics" value="groups" /> Groups &amp; communities</label>
          <label><input type="checkbox" name="topics" value="mentorship" /> Mentorship</label>
        </fieldset>

        <label for="feedback">Any feedback for us?
          <textarea id="feedback" name="feedback" rows="5" placeholder="What can we improve?"></textarea>
        </label>

        <div class="form-actions">
          <button type="submit" class="btn">Submit feedback</button>
          <button type="reset" class="btn btn--muted">Clear</button>
        </div>
      </form>

      <div id="thanks" class="thank-you" aria-live="polite" hidden>
        <h3>Thanks — we received your feedback!</h3>
        <p>We appreciate you taking the time to help us improve Mingle.</p>
      </div>
    </section>

    <footer class="site-footer">
      <small>© <span id="year"></span> Mingle</small>
    </footer>
  </main>

  <script>
    // Minimal client-side behavior: show a thank-you message and hide the form on submit.
    (function () {
      const form = document.getElementById('surveyForm');
      const thanks = document.getElementById('thanks');
      const year = document.getElementById('year');
      year.textContent = new Date().getFullYear();

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        // In a real site you'd POST to a backend or a service like Netlify Forms.
        form.style.display = 'none';
        thanks.hidden = false;

        // Example: log form data to console (remove in production)
        const fd = new FormData(form);
        const obj = {};
        for (const [k, v] of fd.entries()) {
          // handle repeated keys (checkboxes) by grouping into arrays
          if (obj[k]) {
            if (Array.isArray(obj[k])) obj[k].push(v);
            else obj[k] = [obj[k], v];
          } else {
            obj[k] = v;
          }
        }
        console.log('Mingle survey submission (demo):', obj);
      });
    })();
  </script>
</body>
</html>
